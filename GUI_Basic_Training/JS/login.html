<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="validateuser.js"></script>
    <script>
        
        if (IsLoggedIn()) { //function in validateuser.js
            window.location.replace("./index.html");
        } 
    </script>

</head>
<body class=""> 
    
    <div class="container mt-5 w-50">

        <form method="POST" id="regForm">
            <div class="heading"> 
                <h1>Login</h1>           
            </div>   
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="username"  class="form-control w-75" id="username" name="username" value="raj"> 
            </div>
            
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <div class="d-flex">
                    <input type="password"  class="form-control w-75" id="password" name="password" value="raj12345">
                    <button type="button"  class="btn btn-light btn-outline-secondary m-1" id="btnShowPassword" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16"><path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/><path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/></svg>
                    </button>
                </div>
                <p class="" id="passwordValidationMsg"></p>
                <p class="text-danger" id="UserValidationMsg"></p>
            </div>
            
            <div class="mb-3" style="align-items: center; display: flex;">
                        
                <button type="button" class="btn btn-warning me-3" id="btnLogin" >Login</button>
                <button type="reset" class="btn btn-danger">
                    <img src="../reset.png" alt="Reset" width="22x" height="16px">
                </button>
                <span class="ms-5 fs-5">Dont have an account? <a class="text-warning" href="register.html">Register here</a></span>
            </div>   
        </form>
        <div class="container mt-5">
            <h5>Topics</h5>
            <a class="btn btn-primary" href="./Async Await/">Async Await</a>
            <a class="btn btn-primary" href="./Arrow Functions/">Arrow Functions</a>
            <a class="btn btn-primary" href="./Import Export/">Import Export</a>
            <a class="btn btn-primary" href="./let var const/">let var const</a>
            <a class="btn btn-primary" href="./OOJS/">OOJS</a>
            <a class="btn btn-primary" href="./Caching/">Caching</a>
        </div>
    </div>

<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script>

    // function inline(){
    //     console.log("inline");
    // }
    // function script(){
    //     console.log("internal");
    // }

document.getElementById("btnLogin").addEventListener("click",function (){
    var username = document.getElementById("username").value;
    var password = document.getElementById("password").value;

    if(username === "raj" && password === "raj12345"){
        // var now = new Date();
        // now.setTime(now.getTime() + 1 * 3600 * 1000); //time in milliseconds
        // document.cookie = `username=${username};expires=${now.toUTCString()};path=/;`
        document.cookie = `username=${username};max-age=3600;path=/;` //time in seconds
        window.location.replace("./index.html");
    }else{
        document.getElementById("UserValidationMsg").innerText = "Email or Password is incorrect!"
    }
});

//Usage of onKeyDown
document.getElementById("password").addEventListener("keydown",(e) => {
    console.log(e.code);
})


</script>
</body>
</html>